# excel_ai_bot

ุฑุจุงุช ููุดููุฏ ูุฏุฑุช ุงฺฉุณู ุจุง ุฑุงุจุท ุชูฺฏุฑุงู + ููุชูุฑ AI ูุงฺููุงุฑ.

## ูุตุจ

```bash
curl -fsSL https://raw.githubusercontent.com/rezajavadi995/excel_ai_bot/main/install.sh | bash
```

## ุงููุช ุชูฺฉู ู ุงุฏูู

- ุชูฺฉู ู `ADMIN_ID` ููุท ฺฉโุจุงุฑ ุงุฒ ูุตุงุจ ุฏุฑุงูุช ูโุดูุฏ.
- ุงุทูุงุนุงุช ุฏุฑ ูุงู ูุญู ุณุณุชู ูุตุจ ุฐุฎุฑู ูโุดูุฏ: `~/.config/excel_ai_bot/secrets.json`
- ุงู ูุงู ุฎุงุฑุฌ ุงุฒ ฺฏุช ุงุณุช.
- ุฏุฑ ุงุฌุฑุงูุง ุจุนุฏุ ูุตุงุจ ุงุทูุงุนุงุช ูุนู ุฑุง ููุงุด ูโุฏูุฏ ู ุชุฃุฏ ูุฏุฑ ูโฺฏุฑุฏ:
  - ุงฺฏุฑ ุชุงุฏ ุดูุฏ ูุตุจ ุงุฏุงูู ูพุฏุง ูโฺฉูุฏ.
  - ุงฺฏุฑ ุชุงุฏ ูุดูุฏุ ูุฑุงูุฏ ุฏุฑุงูุช ุชูฺฉู/ุงุฏูู ุฏูุจุงุฑู ุงุฌุฑุง ูโุดูุฏ.

## ูุนูุงุฑ ูุงฺููุงุฑ

- `core/`: ุฎูุงูุฏูุ ุชุญูู ู ูุฑุงุด ุงฺฉุณู.
- `logic/`: AI clientุ parser ู validator.
- `bot/`: ููุฏูุฑูุง ู ฺฉุจูุฑุฏูุง ุชูฺฏุฑุงู.
- `config/`: ุจุงุฑฺฏุฐุงุฑ ุงูู ุชูุธูุงุช.

## ูุซุงูโูุง

### ูุซุงู ฺฉุงุฑุจุฑ
- ยซุณุชูู `price` ุฑู ฑฐ ุฏุฑุตุฏ ุงูุฒุงุด ุจุฏูยป
- ยซุณุชูู `price` ุฑู ุญุฐู ฺฉูยป

### ูุซุงู ูุฏุฑ
- ูุฑูุฏ ุจู ุฏฺฉูู `โ๏ธ ูุฏุฑุช`
- ุงุฌุฑุง ุนููุงุช ูุฏุฑุช ุงุฒ callback ูุง `admin:*`

### ูุซุงู ุชุฑููุงู
- ุงุฌุฑุง ูุณุชูู ุฑุจุงุช:
  ```bash
  python bot/main_bot.py
  ```
- ุงุฌุฑุง ุชุณุชโูุง:
  ```bash
  pytest -q
  ```

## ููุชูุฑ AI

ูุณุฎู ูุนู ุฏุงุฑุง `RuleBasedAIClient` ุงุณุช ฺฉู ูุฑูุงู ูุงุฑุณ ุฑุง ุจู Blueprint ุงุณุชุงูุฏุงุฑุฏ JSON ุชุจุฏู ูโฺฉูุฏ.
ุงู ุจุฎุด ุทูุฑ ุทุฑุงุญ ุดุฏู ฺฉู ุจูโุณุงุฏฺฏ ูโุชูุงูุฏ ุจุนุฏุงู API ูุงูุน LLM ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ.


## ุฌุฑุงู ุฌุฏุฏ ูุฏุฑุช ูุงู ุงฺฉุณู ุฏุฑ ุฑุจุงุช

- ุจุง ุฒุฏู `๐ ุขูุงูุฒ ุงฺฉุณู` ุงฺฏุฑ ูุงู ูุฏุงุดุชู ุจุงุดุฏุ ุฑุจุงุช ูุงู ุงฺฉุณู ูโุฎูุงูุฏ.
- ูพุณ ุงุฒ ุฏุฑุงูุช ูุงูุ ููู ุดุชโูุง ุชุญูู ูโุดููุฏ ู ุชุนุฏุงุฏ ุณุทุฑ/ุณุชูู + ูุฏุฑูุง ููุงุด ุฏุงุฏู ูโุดูุฏ.
- ุนููุงุชโูุง ุจูโุตูุฑุช state-machine ูุฏุฑุช ูโุดููุฏ ู ุชุง ูุจู ุงุฒ `ุฐุฎุฑู ููุง` ูฺ ูุงู ููุง ุชููุฏ ููโุดูุฏ.
- ุนููุงุชโูุง ุฏุฑ `operation stack` ุซุจุช ูโุดููุฏ ู ุงูฺฉุงู `Undo` ุชุง ูุจู ุงุฒ ุฐุฎุฑู ููุง ูุนุงู ุงุณุช.
- ุฏุฑ ุฐุฎุฑู ููุงุ ุฎุฑูุฌ ุจุง ููุงู ูุงู ูุงู ุงููู ุจุฑุง ฺฉุงุฑุจุฑ ุงุฑุณุงู ูโุดูุฏ.


## ูุนูุงุฑ ุชููุฏ (Offline)

ูุงฺููโูุง:
- `bot/intent_detection.py`: ุชุดุฎุต intent ุจุง regex + spaCy (ฺฉุงููุงู ุขููุงูุ ุจุฏูู API ุฎุงุฑุฌ)
- `bot/context_manager.py`: FSM + ุญุงูุธู ูพุงุฏุงุฑ ฺฉุงุฑุจุฑ ุจุง SQLite ู Counter
- `bot/decision_engine.py`: ูุณุฑุงุจ ูุทุน ุจู Excel/Help/Fallback
- `bot/ui_renderer.py`: ุชููุฏ ููุดููุฏ ุฏฺฉููโูุง inline/reply ุจุฑ ุงุณุงุณ FSM
- `bot/excel_engine.py`: ุชุญูู/ููุชุฑ/ุฎุฑูุฌ ุงฺฉุณู ู reuse ุชุญูู ูุจู

ุงูฺฏู ุงุฌุฑุง:
User โ intent_detection โ decision_engine โ context_manager โ excel_engine โ ui_renderer
